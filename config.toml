# Postflop Solver Configuration File

[ranges]
oop = "66+,A8s+,A5s-A4s,AJo+,K9s+,KQo,QTs+,JTs,96s+,85s+,75s+,65s,54s"
ip = "KK"

[cards]
flop = "Td9d6h"
turn = "Qc"
# river = ""  # Ometti se NOT_DEALT

[tree]
starting_pot = 200
effective_stack = 900
rake_rate = 0.0
rake_cap = 0.0

# Thresholds (usually keep these defaults)
add_allin_threshold = 1.5
force_allin_threshold = 0.15
merging_threshold = 0.1

# ============================================================================
# BET SIZES - Separate per ogni street
# ============================================================================
# STRATEGIA:
# - Street PASSATI: Bet sizes ESATTE per replicare la mano reale
# - Street CORRENTE/FUTURO: Range AMPIO (~13 azioni) per strategia GTO
#
# Se lasci vuoto (""), non ci sono bet sizes per quello street
# ============================================================================

[bet_sizes.flop]
# Bet sizes al FLOP
# Preset: "full", "standard", "minimal" oppure sizing custom: "50%, 75%, e, a"
oop_bet = "standard"
oop_raise = "standard"
ip_bet = "standard"
ip_raise = "standard"

[bet_sizes.turn]
# Bet sizes al TURN
oop_bet = "standard"
oop_raise = "standard"
ip_bet = "standard"
ip_raise = "standard"

[bet_sizes.river]
# Bet sizes al RIVER
oop_bet = "standard"
oop_raise = "standard"
ip_bet = "standard"
ip_raise = "standard"

[solver]
max_iterations = 1000
target_exploitability_pct = 0.5  # 0.5% of the pot

# ============================================================================
# GRANULAR PRECISION CONTROL - Configure each storage component separately
# ============================================================================
# Each storage component can be configured independently for optimal memory/precision tradeoff
#
# strategy_bits:  Strategy storage (storage1)         - Options: 8, 16, 32
# regret_bits:    Regret storage (storage2/4)         - Options: 16, 32
# ip_bits:        IP CFValues storage (storage_ip)    - Options: 16, 32
# chance_bits:    Chance CFValues storage             - Options: 8, 16, 32
#
# Recommended configurations:
# - Balanced (default):     strategy=16, regret=16, ip=16, chance=16  (~50% memory vs 32-bit)
# - Ultra-compressed:       strategy=8,  regret=16, ip=16, chance=8   (~62.5% memory saving)
# - Full precision:         strategy=32, regret=32, ip=32, chance=32  (baseline, max precision)
# - High precision IP:      strategy=16, regret=16, ip=32, chance=16  (more precision for IP player)
# ============================================================================
strategy_bits = 16
regret_bits = 16
ip_bits = 16
chance_bits = 16

# Algorithm: "dcfr", "dcfr+", "pdcfr+", "sapcfr+"
# Note: pdcfr+ and sapcfr+ require 50% more memory (storage4)
algorithm = "dcfr"

# Enable regret-based pruning (dynamic branch skipping)
# Works best with algorithm = "dcfr"
enable_pruning = false

# Lazy normalization (optional, can improve performance)
lazy_normalization = false
# lazy_normalization_freq = 0  # 0 = normalize only at finalization, N = every N iterations

zstd_compression_level = 3  # Optional: 1-22 (3=default, 22=max), omit for no compression
# dry_run = true  # true = mostra solo dimensione tree, false = risolve (default)

[output]
directory = "solved_games"
# Output filename pattern: {config_name}-{precision}.bin
# Examples:
#   Standard 16-bit: "config-16.bin"
#   Full 32-bit: "config-32.bin"
#   Mixed precision: "config-s16r16i32c16.bin" (strategy=16, regret=16, ip=32, chance=16)
